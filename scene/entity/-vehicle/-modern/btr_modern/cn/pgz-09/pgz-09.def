; by Kemper
{Entity
	(include "/properties/tank.ext")
	(include "/properties/shadow/tank.inc"  scale(1.2))
	(include "/properties/selection/vehicle.inc"  scale(1.2))

	{props "Light_M" "turret_rotator" "turret" "vision_lev05" "sam" "sam_radar" "4_barrels_smoke"}

	{extender "enumerator" {digit_folder "pla"}}

	{volume "body1"
		{tags "body"}
		{component "body"}
	}
	{volume "body2"
		{tags "body"}
		{component "body"}
	}
	{volume "turret"
		{tags "turret"}
		{component "turret"}
	}
	{volume "turret1"
		{tags "turret"}
		{component "turret"}
	}
	{volume "turret2"
		{tags "turret"}
		{component "turret"}
	}
	{volume "Gun_rot1"
		{tags "turret"}
		{component "turret"}
	}
	{volume "Gun_rot2"
		{tags "turret"}
		{component "turret"}
	}
{volume "border1"
    {thickness 10}
}
{volume "radar1_shield"
    {thickness 10}
}
{volume "gun_l"
    {tags "no_target"}
    {thickness 20}
    {able {Visible 0} {Obstacle 0} {Contact 0}}
    {component "gun"}
}
{volume "gun_r"
    {tags "no_target"}
    {thickness 20}
    {able {Visible 0} {Obstacle 0} {Contact 0}}
    {component "gun"}
}

{boarder
	{anm "driver"
		{forward	{begin	"board_tank_left"} {base "open_driver"}}
		{reverse 	{end	"emit_tank_2_hold" } {base "close_driver"}}
	}
	{anm "gunner"
		{forward	{begin	"board_tank_right"}}
		{reverse 	{end	"emit_tank_1_hold"}}
	}
	{anm "commander"
		{forward	{begin	"board_tank_left"}}
		{reverse 	{end	"emit_tank_1_hold"}}
	}
}

(define "crew_human"
	{placer
		{place "%place" {group "%group"} {visor "%visor"}}
	}
	{boarder
		{door "%door"}
		{link "%door" "%place" {anm "%animation"} {forward putoff} {reverse puton}}
	}
)
	
("crew_human" place(driver)		door(emit0) group(crew)		animation(driver)	    visor(driver))
("crew_human" place(gunner)		door(emit1) group(crew)	    	animation(gunner)	    visor(main))
("crew_human" place(commander)	door(emit2) group(crew)	   	 animation(commander)	    visor(radar))




	("armor_IFV_multivolume" turret(12) body1(15 15 15 15)  body2(35 9 9 6))
	{armor
        {setting "turret"
            {thickness 12}
            {durability
                {blast {koef 1} {value 60} } {pierce {koef 999} }
            }
            {threshold
                {blast {koef 1} {value 20} }
            }
            {volumes "turret" "turret1" "turret2" "turret3" "turret4" "turret5" "Gun_rot1" "Gun_rot2"}
			{health_reducing {pierce {koef 0.0001}} {blast {koef 0}} }
        }
	}
	
	
	{extender "inventory"
		{box
			{item "bullet35_cn ap ammo" 150}
			{item "bullet35_cn fg ammo" 250}
			;{item "ammo smoke_shtora" 8}	
		}
	}	
	{Weaponry
		("restore_ik_time")
		{place "gun"
			("abm_zenite")
			{RestoreIKAfterAim}
			{weapon "35mm_PG99-35-2" filling "bullet35_cn ap ammo" 40}
			{foresight "foresight1"}
			{charger "gunner"}
			{Barrels 2}
			("CW_stab_abm" abm(0.80))
			("CW_stab_autotrack_suo")
		}
	}
	{mass 35000}
	{Chassis				
		("tank_trace" fx("tracks_mid") step(0.47) len(0.29))
		{Locomotion ("CW_track_moveparam" 
			Mass(35)
			Width(3.55)
			Power(800)
			Realspeed(55)
			Gamespeed(36) 
		)
		{RearGears		0.20 0.40}}
		("CW_fuelbag" Range(550) Fuelvolume(800))
		("CW_speed_lev" Gamespeed(36))
	}
	{props "cwfs_fuel_800"}

	{sensor	;радар 20км, по оптике нет данных
		{visor "main"
			{vision "tank_gunner_optic_2g"}	
		}
		{visor "radar"
			{vision "radar_around"}		;это - радар.
			{bone "visor3"}
		}
		{visor "targ1"
			{vision "tank_gunner_optic_3g"}	
			{bone "visor4"}
		}
		{visor "com"
			{vision "tank_gunner_optic_2g"}	
			{bone "visor5"}
		}
		{visor "targ1"
			{vision "tank_gunner_optic_IR_2g"}	
			{bone "visor6"}
		}
	}
	("sam_radar" type(rus))
	("two_headlights")
	{Extension "pgz-09.mdl"}
	("missile_aimpoint_tanksize")
	("cwts_buksir")
	("CW_turr_speed" deg_per_s(60))

}
